#+title: Notes

* Features
** DONE Slowly increasing amount of "worms"
** DONE Add speed optimization for release version
** DONE try color gradient
** DONE better gradient (from shades of green)
** DONE somehow need to slower rotation of worms characters
** DONE different first character rotation for worms
** DONE calculate average fps, print it after execution
** DONE raname Matrix to DigitalRain
** DONE rename charworm into raindrops
** TODO zbuffer for different worm positions
** TODO to fade worms can assume max_length is initial worm length
can be used to calculate color from pos
** TODO remove ndarray from digital rain
** rain drop should return list of characters with colors
** TODO keep fps stable and above some value - 20, 30, 60?
** TODO make worms fade away when they reach the bottom
** TODO even better gradient (2 steps from white to dark gray)
** TODO store options as MatrixOptions
** TODO move "map" (with position of worms with worm_id) into separate module
** TODO update screen size (h/w) during execution (currently doesn't track it)

* After main Features
** github CI/CD pipeline
** DONE need tests
- [X] test VerticalWorm
- [X] decouple drawing Matrix from calculations
- [X] test matrix calculation layer
** DONE need benchmarks
- [X] need to make whole thing into library with option to compile binary
- [X] benchmarks for VerticalWorms
- [X] benchmarks for Matrix
- [X] benchmarsk for main loop with drawing

* Optimizations
** fx in RainDrop could be u16 or usize
** clamp coordinates to make sure they fit the screen
** DONE update crossterm
** SPEED_RANGE as interval type
** DONE implement buffer to keep only differences
** DONE need to minimize amount of clean cells commands
on next frame not all cell should be cleaned
